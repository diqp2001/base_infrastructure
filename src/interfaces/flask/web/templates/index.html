<!DOCTYPE html>
<html>
<head>
    <title>Investment Strategy Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
            margin: 20px 0;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .btn {
            background-color: #007bff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            display: inline-block;
            margin: 10px 5px 0 0;
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .btn-success {
            background-color: #28a745;
        }
        .btn-success:hover {
            background-color: #218838;
        }
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        .btn-warning:hover {
            background-color: #e0a800;
        }
        .btn-info {
            background-color: #17a2b8;
        }
        .btn-info:hover {
            background-color: #138496;
        }
        .feature-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        .description {
            color: #6c757d;
            margin: 10px 0;
        }
        input[type="text"] {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè¶ Investment Strategy Dashboard</h1>
        <p class="description">Welcome to the base infrastructure investment platform. Choose from the options below to run backtests, live trading, or explore entity data.</p>
        
        <!-- Main Features Grid -->
        <div class="grid">
            <!-- Test Project Backtest Manager -->
            <div class="card">
                <div class="feature-icon">üìä</div>
                <h3>Test Project Backtest</h3>
                <p class="description">Run comprehensive backtesting with ML-powered strategies and Black-Litterman optimization. View detailed performance analytics and visualizations.</p>
                <a href="{{ url_for('web.run_test_backtest') }}" class="btn btn-success">üöÄ Run Backtest Analysis</a>
            </div>
            
            <!-- Test Project Live Trading Manager -->
            <div class="card">
                <div class="feature-icon">üìà</div>
                <h3>Test Project Live Trading</h3>
                <p class="description">Execute live trading strategies with Interactive Brokers integration. Real-time risk management and performance monitoring.</p>
                <a href="{{ url_for('web.run_test_live_trading') }}" class="btn btn-warning">‚ö° Start Live Trading</a>
            </div>
            
            <!-- Entity Data Explorer -->
            <div class="card">
                <div class="feature-icon">üóÉÔ∏è</div>
                <h3>Entity Data Explorer</h3>
                <p class="description">Browse and analyze company shares, market data, and fundamental information stored in the database.</p>
                <a href="/api/entities/summary" class="btn btn-info" target="_blank">üìã View Entities Summary</a>
                <a href="/api/entities/company_shares" class="btn btn-info" target="_blank">üè¢ View Company Shares</a>
            </div>
        </div>
        
        <!-- Legacy Backtest Form -->
        <div class="card">
            <h3>üîß Legacy Backtest Tool</h3>
            <p class="description">Run a simple backtest with custom symbol input (legacy functionality).</p>
            <form action="/backtest" method="POST">
                <label for="symbol">Symbol:</label>
                <input type="text" name="symbol" placeholder="e.g., AAPL" required>
                <button type="submit" class="btn">Run Legacy Backtest</button>
            </form>
        </div>
        
        <!-- API Documentation -->
        <div class="card">
            <h3>üîå API Endpoints</h3>
            <p class="description">Access the platform programmatically using these REST API endpoints:</p>
            <ul>
                <li><strong>POST /api/test_managers/backtest</strong> - Execute backtest manager</li>
                <li><strong>POST /api/test_managers/live_trading</strong> - Execute live trading manager</li>
                <li><strong>GET /api/entities/company_shares</strong> - Get all company entities</li>
                <li><strong>GET /api/entities/company_shares/{id}</strong> - Get specific company share</li>
                <li><strong>GET /api/entities/summary</strong> - Get database entities summary</li>
            </ul>
        </div>
        
        <!-- System Information -->
        <div class="card">
            <h3>‚ÑπÔ∏è System Information</h3>
            <div class="description">
                <p><strong>Framework:</strong> Domain-Driven Design (DDD) with Flask interface</p>
                <p><strong>Database:</strong> SQLite with SQLAlchemy ORM</p>
                <p><strong>Trading Platform:</strong> Interactive Brokers TWS API</p>
                <p><strong>ML Framework:</strong> scikit-learn with Black-Litterman optimization</p>
            </div>
        </div>
    </div>
</body>
</html>
